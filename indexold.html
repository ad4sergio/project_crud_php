<!DOCTYPE html>
<html lang="es">
<head>
    <!-- ========================================================
         ENCABEZADO DEL DOCUMENTO HTML
         ======================================================== -->
    <meta charset="UTF-8">
    <!-- Define la codificaci√≥n de caracteres como UTF-8 para soportar 
         caracteres especiales como acentos y √± -->
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Asegura que la p√°gina sea responsiva en dispositivos m√≥viles -->
    
    <title>RNI - Registro Nacional de Infieles del Per√∫</title>
    <!-- T√≠tulo que aparece en la pesta√±a del navegador -->
    
    <!-- Cargar estilos CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Cargar iconos de Font Awesome desde CDN (Content Delivery Network) -->
    <!-- Estos iconos se usan en botones, alertas, etc. -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>
<body>

    <!-- ========================================================
         ENCABEZADO PRINCIPAL DE LA APLICACI√ìN
         ======================================================== -->
    <header class="header">
        <div class="header-content">
            <!-- Logo con icono de coraz√≥n roto -->
            <div class="logo">
                <i class="fas fa-heart-broken"></i>
                <div>
                    <h1>üî¥ RNI - Registro Nacional de Infieles</h1>
                    <p>üìç Lima, Per√∫ - Base de datos de infidelidades</p>
                </div>
            </div>
            <!-- Banner informativo en el header -->
            <div style="
                background: rgba(255, 255, 0, 0.2);
                border-left: 3px solid #ffff00;
                padding: 0.8rem;
                border-radius: 8px;
                font-size: 0.85rem;
                text-align: right;
                color: #ffff00;
                font-weight: bold;
            ">
                ‚ö° Ofertas Especiales Activas<br>
                Haz clic en cualquier anuncio
            </div>
        </div>
    </header>

    <!-- ========================================================
         BANNER PRINCIPAL PROMOCIONAL
         ======================================================== -->
    <div class="banner-principal">
        üíî ¬°Descubre a los infieles de tu zona! B√∫squeda r√°pida por distrito de Lima | 
        <span style="color: #ffff00; font-weight: bold;">PROMOOCI√ìN: Investigador Privado -30%</span>
    </div>

    <!-- ========================================================
         CONTENEDOR PRINCIPAL DE LA APLICACI√ìN
         ======================================================== -->
    <div class="container">
        
        <!-- Contenedor para mostrar alertas (√©xito/error) -->
        <div id="alertas" class="alertas-container"></div>

        <!-- ========================================================
             SECCI√ìN PRINCIPAL: TABLA DE PERSONAS
             ======================================================== -->
        <section class="main-section">
            
            <!-- Encabezado con t√≠tulo y bot√≥n de agregar -->
            <div class="section-header">
                <h2 class="section-title">
                    üìã Lista de Infieles (<span id="total-registros">0</span>)
                </h2>
                <!-- Bot√≥n para abrir modal de agregar persona -->
                <button class="btn btn-primary" onclick="abrirModalAgregar()">
                    ‚ûï Agregar Infiel
                </button>
            </div>

            <!-- ========================================================
                 SECCI√ìN DE FILTROS
                 ======================================================== -->
            <div class="filters">
                <h3 class="filters-title">üîç Filtros de B√∫squeda</h3>
                <div class="filters-grid">
                    
                    <!-- Filtro por nombre/apellido -->
                    <div class="form-group">
                        <label>Nombre/Apellido</label>
                        <!-- El evento onkeyup dispara la b√∫squeda mientras escribes -->
                        <input type="text" id="filtroNombre" placeholder="Buscar..." onkeyup="aplicarFiltros()">
                    </div>

                    <!-- Filtro por g√©nero -->
                    <div class="form-group">
                        <label>G√©nero</label>
                        <select id="filtroGenero" onchange="aplicarFiltros()">
                            <option value="">Todos</option>
                            <option value="M">üë® Masculino</option>
                            <option value="F">üë© Femenino</option>
                        </select>
                    </div>

                    <!-- Filtro por distrito de Lima -->
                    <div class="form-group">
                        <label>Distrito</label>
                        <!-- Este select se llena din√°micamente desde JavaScript -->
                        <select id="filtroDistrito" onchange="aplicarFiltros()"></select>
                    </div>

                    <!-- Opciones de ordenamiento -->
                    <div class="form-group">
                        <label>Ordenar por</label>
                        <select id="filtroOrden" onchange="aplicarFiltros()">
                            <option value="reciente">M√°s Reciente</option>
                            <option value="antiguo">M√°s Antiguo</option>
                            <option value="edad">Mayor Edad</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- ========================================================
                 TABLA: MUESTRA LOS REGISTROS
                 ======================================================== -->
            <div class="table-container">
                <table id="tablaPersonas">
                    <!-- Encabezados de la tabla -->
                    <thead>
                        <tr>
                            <th>#ID</th>
                            <th>Nombre Completo</th>
                            <th>G√©nero</th>
                            <th>Edad</th>
                            <th>Ocupaci√≥n</th>
                            <th>üìç Distrito</th>
                            <th>Fecha Registro</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <!-- Cuerpo de la tabla que se llena con JavaScript -->
                    <tbody id="tablaBody">
                        <!-- Los datos se insertan aqu√≠ din√°micamente -->
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 2rem;">
                                <div class="loading">
                                    <div class="spinner"></div>
                                    <p>Cargando datos...</p>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Mensaje que aparece cuando no hay datos -->
            <div id="sinDatos" class="sin-datos" style="display: none;">
                <div style="font-size: 3rem; opacity: 0.5; margin-bottom: 1rem;">üîç</div>
                <p>No hay infieles con esos criterios</p>
            </div>

        </section>

        <!-- ========================================================
             BANNER INTERMEDIO: NOTIFICACIONES PREMIUM
             ======================================================== -->
        <div style="
            background: linear-gradient(135deg, #ff4d94, #9d4edd);
            padding: 2rem;
            border-radius: 20px;
            color: white;
            text-align: center;
            margin-bottom: 2rem;
            box-shadow: 0 0 40px rgba(255,77,148,0.5);
        ">
            <h2 style="margin: 0 0 1rem 0; font-size: 1.8rem;">‚ö†Ô∏è ALERTA: Funci√≥n de Notificaciones Premium</h2>
            <p style="margin: 0.5rem 0; font-size: 1.1rem;">Recibe alertas en tiempo real cuando alguien en tu zona es registrado</p>
            <button style="
                background: white;
                color: #ff4d94;
                border: none;
                padding: 0.8rem 2rem;
                border-radius: 50px;
                font-weight: bold;
                cursor: pointer;
                font-size: 1rem;
                margin-top: 1rem;
            ">Activar Notificaciones - S/ 9.99/mes</button>
        </div>

        <!-- ========================================================
             SECCI√ìN DE PUBLICIDAD: TARJETAS PROMOCIONALES
             ======================================================== -->
        <div class="ads-container">
            
            <!-- Publicidad 1: Viajes de Escapada -->
            <div class="ad-card ad-travel">
                <div class="ad-icon">‚úàÔ∏è</div>
                <h3>¬°Viajes de Escapada!</h3>
                <p>Huye a Machu Picchu, Cusco o Arequipa</p>
                <p class="ad-price">Desde S/ 299</p>
            </div>

            <!-- Publicidad 2: Investigador Privado -->
            <div class="ad-card ad-detective">
                <div class="ad-icon">üîç</div>
                <h3>Investigador Privado</h3>
                <p>Comprueba la infidelidad</p>
                <p class="ad-price">Desde S/ 450</p>
            </div>

            <!-- Publicidad 3: Terapia de Pareja -->
            <div class="ad-card ad-therapy">
                <div class="ad-icon">üíî</div>
                <h3>Terapia de Pareja</h3>
                <p>Recupera tu relaci√≥n</p>
                <p class="ad-price">Primera sesi√≥n GRATIS</p>
            </div>

            <!-- Publicidad 4: App de Citas -->
            <div class="ad-card ad-dating">
                <div class="ad-icon">üíï</div>
                <h3>App de Citas</h3>
                <p>Conoce personas nuevas discretamente</p>
                <p class="ad-price">Premium desde S/ 29/mes</p>
            </div>

            <!-- Publicidad 5: Hoteles Rom√°nticos -->
            <div class="ad-card ad-hotel">
                <div class="ad-icon">üè®</div>
                <h3>Hoteles Rom√°nticos</h3>
                <p>Suites discretas por horas</p>
                <p class="ad-price">Desde S/ 150</p>
            </div>

            <!-- Publicidad 6: Abogado Matrimonial -->
            <div class="ad-card ad-lawyer">
                <div class="ad-icon">‚öñÔ∏è</div>
                <h3>Abogado Matrimonial</h3>
                <p>Asesoria legal en divorcios</p>
                <p class="ad-price">Primera consulta GRATIS</p>
            </div>

            <!-- Publicidad 7: Gym Premium -->
            <div class="ad-card ad-gym">
                <div class="ad-icon">üí™</div>
                <h3>Gym Premium</h3>
                <p>Ponete en forma discretamente</p>
                <p class="ad-price">Desde S/ 99/mes</p>
            </div>

            <!-- Publicidad 8: Sal√≥n de Belleza -->
            <div class="ad-card ad-salon">
                <div class="ad-icon">üíá</div>
                <h3>Sal√≥n de Belleza</h3>
                <p>Renueva tu look antes de salir</p>
                <p class="ad-price">Promoci√≥n: 20% descuento</p>
            </div>

        </div>

    </div>

    <!-- ========================================================
         MODAL: FORMULARIO PARA AGREGAR/EDITAR PERSONAS
         ======================================================== -->
    <div id="modalPersona" class="modal">
        <div class="modal-content">
            
            <!-- Encabezado del modal -->
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitulo">‚ûï Registrar Nuevo Infiel</h2>
                <!-- Bot√≥n para cerrar modal -->
                <button class="close-btn" onclick="cerrarModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Formulario para crear/editar persona -->
            <form id="formPersona" onsubmit="guardarPersona(event)">
                
                <!-- Campo oculto para almacenar ID (se usa en edici√≥n) -->
                <input type="hidden" id="personaId">

                <!-- Cuerpo del formulario con dos columnas -->
                <div class="modal-body">
                    
                    <!-- Campo: Nombres -->
                    <div class="form-group">
                        <label>Nombres <span class="requerido">*</span></label>
                        <input type="text" id="nombre" required placeholder="Ej: Juan">
                    </div>

                    <!-- Campo: Apellidos -->
                    <div class="form-group">
                        <label>Apellidos <span class="requerido">*</span></label>
                        <input type="text" id="apellido" required placeholder="Ej: Garc√≠a L√≥pez">
                    </div>

                    <!-- Campo: Edad -->
                    <div class="form-group">
                        <label>Edad <span class="requerido">*</span></label>
                        <input type="number" id="edad" min="18" max="99" required placeholder="Ej: 28">
                    </div>

                    <!-- Campo: G√©nero -->
                    <div class="form-group">
                        <label>G√©nero <span class="requerido">*</span></label>
                        <select id="genero" required>
                            <option value="">Seleccionar...</option>
                            <option value="M">üë® Masculino</option>
                            <option value="F">üë© Femenino</option>
                        </select>
                    </div>

                    <!-- Campo: Ocupaci√≥n -->
                    <div class="form-group">
                        <label>Ocupaci√≥n <span class="requerido">*</span></label>
                        <select id="ocupacion" required>
                            <option value="">Seleccionar...</option>
                            <option value="Trabaja">Trabaja</option>
                            <option value="Estudia">Estudia</option>
                            <option value="Trabaja y estudia">Trabaja y estudia</option>
                            <option value="Independiente">Independiente</option>
                            <option value="Desempleado">Desempleado</option>
                        </select>
                    </div>

                    <!-- Campo: Distrito -->
                    <div class="form-group">
                        <label>Distrito <span class="requerido">*</span></label>
                        <!-- Este select se llena din√°micamente desde JavaScript -->
                        <select id="distritoModal" required></select>
                    </div>

                </div>

                <!-- Botones de acci√≥n del formulario -->
                <div class="modal-footer">
                    <!-- Bot√≥n cancelar -->
                    <button type="button" class="btn btn-danger" onclick="cerrarModal()">
                        ‚úï Cancelar
                    </button>
                    <!-- Bot√≥n guardar -->
                    <button type="submit" class="btn btn-primary">
                        üíæ Guardar
                    </button>
                </div>

            </form>

        </div>
    </div>

    <!-- ========================================================
         CARGAR JAVASCRIPT EXTERNO
         ======================================================== -->
    <!-- Este archivo contiene toda la l√≥gica de la aplicaci√≥n -->
    <script src="script.js"></script>

</body>
</html>